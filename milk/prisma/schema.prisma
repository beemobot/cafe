generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model RaidUser {
  raid             Raid?    @relation(fields: [internal_raid_id], references: [internal_id])
  internal_raid_id String   @db.Uuid
  user_id          BigInt
  name             String
  avatar_hash      String?
  created_at       DateTime @db.Timestamptz
  joined_at        DateTime @db.Timestamptz

  @@id([internal_raid_id, user_id])
}

model Raid {
  internal_id  String     @unique @db.Uuid
  external_id  String     @unique
  guild_id     BigInt
  concluded_at DateTime?  @db.Timestamptz
  users        RaidUser[]
}
